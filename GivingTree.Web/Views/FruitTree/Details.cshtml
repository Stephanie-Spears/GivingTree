@model GivingTree.Web.Models.FruitTree

@{
	ViewBag.Title = "Details";
}

<h2>Details for @Html.DisplayFor(model => model.Name)</h2>

<div>
	<h4>Tree</h4>
	<hr />
	<dl>

		@if (Model.Files.Any(f => f.FileType == FileType.Photo))
		{
			// todo: does this iterate through all images to display correctly?
			foreach (var file in Model.Files)
			{
				<dt>
					Photo
					<br/>
					@*File Name: @file.FileName*@

				</dt>
				<dd>
					<img style="max-width: 20rem;" class="img-thumbnail" src="~/File?id=@Model.Files.First(f => f.FileType == FileType.Photo).FileId" alt="photo"/>
				</dd>
			}

			@*<dt>
				Photo
			</dt>
			<dd>
				<img style="max-width: 20rem;" class="img-thumbnail" src="~/upload?id=@Model.Files.First(f => f.FileType == FileType.Photo).FileId" alt="upload" />
			</dd>*@

		}

		<dt class="col-sm-3">
			@Html.DisplayNameFor(model => model.Name)
		</dt>
		<dd class="col-sm-9">
			@Html.DisplayFor(model => model.Name)
		</dd>

		<dt class="col-sm-3">
			@Html.DisplayNameFor(model => model.Fruit)
		</dt>
		<dd class="col-sm-9">
			@Html.DisplayFor(model => model.Fruit)
		</dd>

		<dt class="col-sm-3">
			@Html.DisplayNameFor(model => model.Description)
		</dt>
		<dd class="col-sm-9">
			@Html.DisplayFor(model => model.Description)
		</dd>

		<dt class="col-sm-3">
			@Html.DisplayNameFor(model => model.Latitude)
		</dt>
		<dd class="col-sm-9">
			@Html.DisplayFor(model => model.Latitude)
		</dd>
		<dt class="col-sm-3">
			@Html.DisplayNameFor(model => model.Longitude)
		</dt>
		<dd class="col-sm-9">
			@Html.DisplayFor(model => model.Longitude)
		</dd>
		<dt class="col-sm-3">
			@Html.DisplayNameFor(model => model.LastUpdated)
		</dt>
		<dd class="col-sm-9">
			@Html.DisplayFor(model => model.LastUpdated)
		</dd>
		@*	<dt class="col-sm-3">
				@Html.DisplayNameFor(model => model.CreatedByUserName)
			</dt>
			<dd class="col-sm-9">
				@Html.DisplayFor(model => model.CreatedByUserName)
			</dd>

			<dt class="col-sm-3">
				@Html.DisplayNameFor(model => model.LastUpdated)
			</dt>
			<dd class="col-sm-9">
				@Html.DisplayFor(model => model.LastUpdated)
			</dd>*@
	</dl>
</div>
<p>

	@Html.ActionLink("Edit", "Edit", new { id = Model.Id })
	@Html.Encode(" | ")

	@*	@if (Model.CreatedByUserId == User.Identity.GetUserId())
		{
			@Html.ActionLink("Edit", "Edit", new { id = Model.Id })
			@Html.Encode(" | ")
		}*@

	@Html.ActionLink("Back to List", "Index")
</p>